<h1 class="ml-3 mt-3 text-center">All services</h1>

<div class="d-flex">
  <div data-controller="refresh-services-list">
    <%= form_with url: services_path,
                  method: :get,
                  html: { class: "ml-3", data: { refresh_services_list_target: "form" } } do |f| %>
      <%= f.text_field :query,
                      placeholder: "Search a service",
                      data: {
                        refresh_services_list_target: "input",
                        action: "keyup->refresh-services-list#update" } %>
    <% end %>

    <%= render "services/partials/list", services: @services %>
  </div>

  <div id="map"
      style="width: 100%; height: 600px;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>
